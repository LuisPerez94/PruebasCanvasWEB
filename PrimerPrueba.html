<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title>Prueba Canvas</title>
		<style type="text/css"> 
			#canvas{
				border: solid #000 1px; 
			}
		</style>
		<script type="application/javascript" language="javascript">

			function coordenada(x,y){		//Objecto coordenada para no andar cargando con muchas variables en el triangulo.
				this.x=x;
				this.y=y;
			}
			function triangulo(coordenada1,coordenada2,coordenada3)			//Objecto triangulo inicializado con 3 objectos coordenada
			{
				this.vertices= [coordenada1,coordenada2,coordenada3];		//arreglo de coordenadas para el triangulo
			}
			function draw(){
			var canvas=document.getElementById('canvas');
			var contex=canvas.getContext('2d');
			/*
			contex.fillStyle="rgb(200,0,0)"; // color sin transparencia
			contex.fillRect(10,10,55,50);	 // cuadrado
			
			contex.fillStyle="rgba(0,0,200,0.5)";//color con transparencia
			contex.fillRect(30,30,55,50);	// cuadrado
			*/
			//Probaré el for en JS
			var x;
			var y;
			for(y=10;y<500;	y+=60){ 	//For movimiento vertical

				for(x=10;x<500;x+=110){		//For movimiento horizontal
					contex.fillStyle="rgb(200,0,0)"; // color sin transparencia Rojo
					contex.fillRect(x,y,50,50);	 // cuadrado
				
					contex.fillStyle="rgba(0,0,200,0.5)";//color con transparencia Azul
					contex.fillRect(x+55,y,50,50);	// cuadrado

				}
			
			
				
				}
			
			
		}
		function draw_triangule(){
			
			var canvas=document.getElementById('canvas');
			var context=canvas.getContext('2d');
			//Objecto triangulo inicializado con variables coordenadas inicializadas manualmente.
			var prueba= new triangulo(new coordenada(qs['x1'],qs['y1']),
									   new coordenada(qs['x2'],qs['y2']),
									   new coordenada(qs['x3'],qs['y3'])); 

			context.beginPath();
			context.moveTo(prueba.vertices[0].x,prueba.vertices[0].y);	//Acceso a las coordenadas alojadas en prueba
			context.lineTo(prueba.vertices[1].x,prueba.vertices[1].y);
			context.lineTo(prueba.vertices[2].x,prueba.vertices[2].y);
			context.lineTo(prueba.vertices[0].x,prueba.vertices[0].y);
			context.stroke();
			context.fill();
		}
		
			
		var qs = new Array();
			function qs() {
				var query = window.location.search.substring(1);
				var parms = query.split('&');
				for (var i=0; i<parms.length; i++) {
				var pos = parms[i].indexOf('=');
				if (pos > 0) {
				var key = parms[i].substring(0,pos);
				var val = parms[i].substring(pos+1);
				qsParm[key] = val;
						}
					}
				}
		</script>
		
	</head>
	<body>
		<h1>Probando Canvas :)</h1>
		<button onclick="draw()">Dibuja</button>
		<button onclick="draw_triangule()">Dibuja Triangulo</button>
		<canvas id="canvas" width="500" height="500"></canvas>
		
		<section id="botones">
			
			<form  action="draw_triangule()" method="GET" onsubmit="draw_triangule()">
				<fieldset>
				<h2>Dibuja un triángulo</h2>
				<label>Coordenada 1 x:</label>
				<input type="text" maxlength="2" name="x1" placeholder="primer punto x" required="true"><br/>
				<label>Coordenada 1 y:</label>
				<input type="text" maxlength="2" name="y1"  placeholder="primer punto y" required="true"> <br/>
				<label>Coordenada 2 x:</label>
				<input type="text" maxlength="2"name="x2"  placeholder="segundo punto x" required="true"><br/>
				<label>Coordenada 2 y:</label>
				<input type="text" maxlength="2" name="y2"  placeholder="segundo punto y" required="true"><br/>
				<label>Coordenada 3 x:</label>
				<input type="text" maxlength="2" name="x3"  placeholder="tercer punto x" required="true"><br/>
				<label>Coordenada 3 y:</label>
				<input type="text" maxlength="2" name="y3"  placeholder="tercer punto y" required="true"><br/>
				<input type="submit" value="Dibujar">
				</fieldset>
			</form>
		</section>
	</body>
</html>
